Search.setIndex({"docnames": ["headers", "http_message", "index", "request", "response", "source", "utils"], "filenames": ["headers.rst", "http_message.rst", "index.rst", "request.rst", "response.rst", "source.rst", "utils.rst"], "titles": ["Headers", "HttpMessage", "Luncheon", "Request", "Response", "Source", "Utils"], "terms": {"class": [0, 1, 3, 4, 6], "A": [0, 6], "map": [0, 1], "kei": [0, 1], "valu": [0, 1, 5], "pair": 0, "from": [0, 1, 3, 4, 6], "portion": 0, "an": [0, 1, 3, 4, 5], "http": [0, 1, 2, 3, 4], "request": [0, 1, 2, 4, 5], "respons": [0, 1, 2, 5], "The": [0, 1, 4, 5, 6], "field": 0, "list": 0, "below": 0, "ar": [0, 1], "some": [0, 2, 5], "common": [0, 1, 2], "i": [0, 1, 2, 4, 5, 6], "exhaust": 0, "when": [0, 1, 2], "each": 0, "serial": [0, 1, 2], "ad": [0, 1], "properti": 0, "lower_snake_cas": 0, "For": [0, 1, 2], "exampl": 0, "x": [0, 1], "forward": [0, 1], "becom": 0, "x_forwarded_for": 0, "typic": 0, "": [0, 1, 2, 5, 6], "string": [0, 1, 2, 3, 4, 6], "howev": 0, "multipl": [0, 1], "entri": [0, 1], "ani": [0, 1], "tabl": [0, 1, 2, 3, 4, 6], "static": [0, 3, 4], "serialize_head": 0, "w": 0, "o": 0, "trail": [0, 2, 5], "new": [0, 1, 2, 3, 4, 5, 6], "line": [0, 1, 2, 3, 4, 5, 6], "If": [0, 1, 6], "provid": [0, 1, 2, 4, 5, 6], "join": 0, "rn": 0, "one": 0, "though": 0, "paramet": [0, 1, 3, 4, 6], "str": [0, 1, 3, 4, 6], "return": [0, 1, 2, 3, 4, 5, 6], "type": [0, 1, 2, 3, 4, 5, 6], "whole": 0, "set": [0, 1, 4], "separ": 0, "them": [0, 1, 2], "r": [0, 2], "n": [0, 2, 4], "append_chunk": 0, "text": [0, 1], "append": [0, 1], "chunk": [0, 1, 6], "thi": [0, 1, 2, 3, 4, 5, 6], "success": [0, 1], "1": [0, 2, 4, 5], "integ": [0, 1, 6], "nil": [0, 1, 3, 4, 6], "err": [0, 1], "ret1": 0, "error": [0, 1, 3, 4, 6], "messag": [0, 1, 3, 4, 6], "from_chunk": 0, "constructor": [0, 2, 5], "instanc": 0, "bare": 0, "normalize_kei": 0, "convert": [0, 2], "standard": 0, "normal": [0, 2], "lua": [0, 1, 2, 3, 4], "identif": 0, "us": [0, 1, 2, 5, 6], "collect": [0, 1], "insert": 0, "singl": [0, 1, 5], "duplic": 0, "exist": [0, 1], "replac": [0, 1], "get_on": [0, 2], "get": [0, 2, 4, 6], "first": [0, 1, 3, 4, 5, 6], "content": [0, 1, 2, 4], "content_typ": [0, 1], "more": [0, 2, 5], "than": 0, "last": [0, 5, 6], "get_al": 0, "In": 0, "event": 0, "store": 0, "intern": [0, 1], "method": [0, 1, 2, 3, 5, 6], "iter": [0, 1, 2], "over": 0, "function": [0, 1, 2, 3, 4, 5, 6], "which": [1, 2, 5], "repres": [1, 2], "between": 1, "header": [1, 2, 4, 5], "bodi": [1, 2, 4], "http_version": [1, 2, 4], "socket": [1, 2, 3, 4, 6], "send": [1, 2, 4, 6], "receiv": [1, 2, 4, 5, 6], "trailer": [1, 4], "sourc": [1, 2, 3, 4, 6], "construct": [1, 3], "sourcefn": [1, 6], "t": [1, 6], "preambl": 1, "tcp_sourc": [1, 2, 3, 4], "creat": [1, 3, 4], "tcp": [1, 2, 3, 4, 5, 6], "udp_sourc": [1, 3, 4], "udp": [1, 2, 3, 4, 6], "add_head": [1, 2], "add": 1, "note": 1, "addit": [1, 5], "so": [1, 2], "twice": 1, "caus": 1, "onli": [1, 2], "intend": 1, "encod": 1, "other": 1, "scheme": 1, "end": [1, 2, 4, 5], "up": 1, "ignor": 1, "add_trail": 1, "replace_head": 1, "lost": 1, "call": [1, 2, 5, 6], "tostr": 1, "replace_trail": 1, "set_content_typ": 1, "ct": 1, "conveni": 1, "wrapper": [1, 2], "around": [1, 2], "self": 1, "len": [1, 6], "mime": 1, "set_content_length": 1, "length": [1, 2], "number": [1, 3, 4, 5, 6], "sent": [1, 6], "set_transfer_encod": 1, "te": 1, "chunk_siz": 1, "transfer": 1, "default": [1, 5], "size": 1, "1024": 1, "append_bodi": [1, 2], "read_head": 1, "boolean": 1, "fill_head": 1, "get_content_length": 1, "body_typ": 1, "determin": 1, "what": 1, "we": [1, 2, 4], "deal": 1, "fill_fixed_length_bodi": 1, "fill": 1, "base": 1, "fill_closed_bodi": 1, "read": [1, 2], "until": [1, 2, 5, 6], "close": [1, 2], "fill_chunked_body_step": 1, "fill_chunked_bodi": 1, "check_for_trail": 1, "check": [1, 4], "present": 1, "should": [1, 5], "ha": [1, 2, 5], "been": [1, 5], "detect": 1, "fill_bodi": 1, "get_bodi": [1, 2, 4], "get_head": [1, 2], "serail": 1, "result": 1, "occur": 1, "chunked_oubtbound_body_it": 1, "build": [1, 4], "outbound": 1, "normal_body_it": 1, "non": 1, "send_preambl": 1, "build_chunk": 1, "max": 1, "limit": 1, "send_head": 1, "pass": 1, "sink": 1, "successfulli": 1, "send_body_chunk": 1, "slice": 1, "most": 1, "byte": [1, 6], "skip_length": 1, "final": 1, "librari": 2, "publish": 2, "luarock": 2, "wai": 2, "both": [2, 5], "expos": [2, 5], "expect": 2, "argument": [2, 5], "least": 2, "see": 2, "doc": 2, "detail": 2, "simpl": 2, "might": 2, "look": 2, "like": [2, 5], "local": 2, "req_lin": 2, "0": 2, "req": 2, "remov": 2, "assert": 2, "url": [2, 3], "path": [2, 3], "content_length": [2, 3], "res_lin": 2, "200": [2, 4], "ok": 2, "re": 2, "statu": [2, 4], "status_msg": [2, 4], "notic": 2, "how": 2, "abov": [2, 5], "do": 2, "contain": 2, "charact": [2, 5, 6], "becaus": 2, "io": 2, "omit": [2, 5], "open": 2, "readm": 2, "md": 2, "l": [2, 5], "To": [2, 5], "handl": [2, 6], "case": 2, "util": [2, 5], "modul": [2, 5], "luasocket": [2, 4, 5, 6], "along": 2, "hypertext": 2, "requir": [2, 4], "host": 2, "com": 2, "am": 2, "print": 2, "gsub": 2, "ag": 2, "2000": 2, "loop": 2, "befor": [2, 6], "That": 2, "mean": 2, "alreadi": 2, "crlf": 2, "start": 2, "incom": [2, 4], "back": 2, "out": 2, "bind": 2, "8080": 2, "listen": 2, "while": 2, "true": 2, "accept": 2, "directori": 2, "httpmessag": [3, 4], "pat": [3, 4], "pars": 3, "builder": 3, "net_url": 3, "3": 4, "digit": 4, "version": 4, "parser": [4, 5], "next_lin": [4, 6], "next": 4, "have": [4, 5], "reach": [4, 5], "status_cod": 4, "memori": 4, "set_statu": 4, "outgo": 4, "has_sent": 4, "name": 5, "take": 5, "behav": 5, "similar": 5, "specif": [5, 6], "either": 5, "constraint": 5, "must": 5, "strip": 5, "after": [5, 6], "signal": 5, "eas": 5, "luncheon": 5, "few": 5, "helper": 5, "tcp_socket_sourc": [5, 6], "work": 5, "exactli": 5, "describ": 5, "don": 6, "fall": 6, "under": 6, "send_al": 6, "sock": 6, "attempt": 6, "retri": 6, "failur": 6, "timeout": 6, "sender": 6, "encount": 6, "total": 6, "api": 6, "conform": 6, "discard": 6, "follow": 6, "remaind": 6, "found": 6, "wa": 6, "extract_len": 6, "split": 6, "half": 6, "second": 6, "empti": 6, "udp_socket_sourc": 6, "wrap": 6, "find": 6, "repeatedli": 6}, "objects": {"": [[0, 0, 1, "", "Headers"], [1, 0, 1, "", "HttpMessage"], [3, 0, 1, "", "Request"], [4, 0, 1, "", "Response"], [6, 4, 0, "-", "utils"]], "Headers": [[0, 1, 1, "", "append"], [0, 1, 1, "", "append_chunk"], [0, 2, 1, "", "from_chunk"], [0, 1, 1, "", "get_all"], [0, 1, 1, "", "get_one"], [0, 1, 1, "", "iter"], [0, 2, 1, "", "new"], [0, 2, 1, "", "normalize_key"], [0, 1, 1, "", "replace"], [0, 1, 1, "", "serialize"], [0, 2, 1, "", "serialize_header"]], "HttpMessage": [[1, 1, 1, "", "add_header"], [1, 1, 1, "", "add_trailer"], [1, 1, 1, "", "append_body"], [1, 3, 1, "", "body"], [1, 1, 1, "", "body_type"], [1, 1, 1, "", "build_chunk"], [1, 1, 1, "", "check_for_trailers"], [1, 1, 1, "", "chunked_oubtbound_body_iter"], [1, 1, 1, "", "fill_body"], [1, 1, 1, "", "fill_chunked_body"], [1, 1, 1, "", "fill_chunked_body_step"], [1, 1, 1, "", "fill_closed_body"], [1, 1, 1, "", "fill_fixed_length_body"], [1, 1, 1, "", "fill_headers"], [1, 1, 1, "", "get_body"], [1, 1, 1, "", "get_content_length"], [1, 1, 1, "", "get_headers"], [1, 3, 1, "", "headers"], [1, 3, 1, "", "http_version"], [1, 3, 1, "", "method"], [1, 1, 1, "", "new"], [1, 1, 1, "", "normal_body_iter"], [1, 1, 1, "", "read_header"], [1, 1, 1, "", "replace_header"], [1, 1, 1, "", "replace_trailer"], [1, 1, 1, "", "send"], [1, 1, 1, "", "send_body_chunk"], [1, 1, 1, "", "send_header"], [1, 1, 1, "", "send_preamble"], [1, 1, 1, "", "serialize"], [1, 1, 1, "", "set_content_length"], [1, 1, 1, "", "set_content_type"], [1, 1, 1, "", "set_transfer_encoding"], [1, 3, 1, "", "socket"], [1, 1, 1, "", "source"], [1, 1, 1, "", "tcp_source"], [1, 3, 1, "", "trailers"], [1, 1, 1, "", "udp_source"]], "Request": [[3, 1, 1, "", "content_length"], [3, 2, 1, "", "new"], [3, 2, 1, "", "source"], [3, 2, 1, "", "tcp_source"], [3, 2, 1, "", "udp_source"]], "Response": [[4, 3, 1, "", "body"], [4, 1, 1, "", "get_body"], [4, 1, 1, "", "has_sent"], [4, 3, 1, "", "headers"], [4, 3, 1, "", "http_version"], [4, 2, 1, "", "new"], [4, 1, 1, "", "next_line"], [4, 1, 1, "", "set_status"], [4, 3, 1, "", "socket"], [4, 2, 1, "", "source"], [4, 3, 1, "", "status"], [4, 3, 1, "", "status_msg"], [4, 2, 1, "", "tcp_source"], [4, 3, 1, "", "trailers"], [4, 2, 1, "", "udp_source"]], "utils": [[6, 5, 1, "", "extract_len"], [6, 5, 1, "", "next_line"], [6, 5, 1, "", "send_all"], [6, 5, 1, "", "tcp_socket_source"], [6, 5, 1, "", "udp_socket_source"]]}, "objtypes": {"0": "lua:class", "1": "lua:method", "2": "lua:staticmethod", "3": "lua:attribute", "4": "lua:module", "5": "lua:function"}, "objnames": {"0": ["lua", "class", "Lua class"], "1": ["lua", "method", "Lua method"], "2": ["lua", "staticmethod", "Lua static method"], "3": ["lua", "attribute", "Lua attribute"], "4": ["lua", "module", "Lua module"], "5": ["lua", "function", "Lua function"]}, "titleterms": {"header": 0, "httpmessag": 1, "luncheon": 2, "instal": 2, "usag": 2, "pars": 2, "build": 2, "exampl": 2, "basic": 2, "echo": 2, "server": 2, "request": 3, "respons": 4, "sourc": 5, "util": 6}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 60}, "alltitles": {"Response": [[4, "response"]], "Luncheon": [[2, "luncheon"]], "Install": [[2, "install"]], "Usage": [[2, "usage"]], "Parsing": [[2, "parsing"]], "Building": [[2, "building"]], "Examples": [[2, "examples"]], "Basic echo server": [[2, "basic-echo-server"]], "Headers": [[0, "headers"]], "Source": [[5, "source"]], "Request": [[3, "request"]], "Utils": [[6, "utils"]], "HttpMessage": [[1, "httpmessage"]]}, "indexentries": {"headers (built-in class)": [[0, "Headers"]], "append() (headers method)": [[0, "Headers.append"]], "append_chunk() (headers method)": [[0, "Headers.append_chunk"]], "from_chunk() (headers static method)": [[0, "Headers.from_chunk"]], "get_all() (headers method)": [[0, "Headers.get_all"]], "get_one() (headers method)": [[0, "Headers.get_one"]], "iter() (headers method)": [[0, "Headers.iter"]], "new() (headers static method)": [[0, "Headers.new"]], "normalize_key() (headers static method)": [[0, "Headers.normalize_key"]], "replace() (headers method)": [[0, "Headers.replace"]], "serialize() (headers method)": [[0, "Headers.serialize"]], "serialize_header() (headers static method)": [[0, "Headers.serialize_header"]], "httpmessage (built-in class)": [[1, "HttpMessage"]], "httpmessage.body (attribute)": [[1, "HttpMessage.body"]], "httpmessage.headers (attribute)": [[1, "HttpMessage.headers"]], "httpmessage.http_version (attribute)": [[1, "HttpMessage.http_version"]], "httpmessage.method (attribute)": [[1, "HttpMessage.method"]], "httpmessage.socket (attribute)": [[1, "HttpMessage.socket"]], "httpmessage.trailers (attribute)": [[1, "HttpMessage.trailers"]], "add_header() (httpmessage method)": [[1, "HttpMessage.add_header"]], "add_trailer() (httpmessage method)": [[1, "HttpMessage.add_trailer"]], "append_body() (httpmessage method)": [[1, "HttpMessage.append_body"]], "body_type() (httpmessage method)": [[1, "HttpMessage.body_type"]], "build_chunk() (httpmessage method)": [[1, "HttpMessage.build_chunk"]], "check_for_trailers() (httpmessage method)": [[1, "HttpMessage.check_for_trailers"]], "chunked_oubtbound_body_iter() (httpmessage method)": [[1, "HttpMessage.chunked_oubtbound_body_iter"]], "fill_body() (httpmessage method)": [[1, "HttpMessage.fill_body"]], "fill_chunked_body() (httpmessage method)": [[1, "HttpMessage.fill_chunked_body"]], "fill_chunked_body_step() (httpmessage method)": [[1, "HttpMessage.fill_chunked_body_step"]], "fill_closed_body() (httpmessage method)": [[1, "HttpMessage.fill_closed_body"]], "fill_fixed_length_body() (httpmessage method)": [[1, "HttpMessage.fill_fixed_length_body"]], "fill_headers() (httpmessage method)": [[1, "HttpMessage.fill_headers"]], "get_body() (httpmessage method)": [[1, "HttpMessage.get_body"]], "get_content_length() (httpmessage method)": [[1, "HttpMessage.get_content_length"]], "get_headers() (httpmessage method)": [[1, "HttpMessage.get_headers"]], "new() (httpmessage method)": [[1, "HttpMessage.new"]], "normal_body_iter() (httpmessage method)": [[1, "HttpMessage.normal_body_iter"]], "read_header() (httpmessage method)": [[1, "HttpMessage.read_header"]], "replace_header() (httpmessage method)": [[1, "HttpMessage.replace_header"]], "replace_trailer() (httpmessage method)": [[1, "HttpMessage.replace_trailer"]], "send() (httpmessage method)": [[1, "HttpMessage.send"]], "send_body_chunk() (httpmessage method)": [[1, "HttpMessage.send_body_chunk"]], "send_header() (httpmessage method)": [[1, "HttpMessage.send_header"]], "send_preamble() (httpmessage method)": [[1, "HttpMessage.send_preamble"]], "serialize() (httpmessage method)": [[1, "HttpMessage.serialize"]], "set_content_length() (httpmessage method)": [[1, "HttpMessage.set_content_length"]], "set_content_type() (httpmessage method)": [[1, "HttpMessage.set_content_type"]], "set_transfer_encoding() (httpmessage method)": [[1, "HttpMessage.set_transfer_encoding"]], "source() (httpmessage method)": [[1, "HttpMessage.source"]], "tcp_source() (httpmessage method)": [[1, "HttpMessage.tcp_source"]], "udp_source() (httpmessage method)": [[1, "HttpMessage.udp_source"]], "request (built-in class)": [[3, "Request"]], "content_length() (request method)": [[3, "Request.content_length"]], "new() (request static method)": [[3, "Request.new"]], "source() (request static method)": [[3, "Request.source"]], "tcp_source() (request static method)": [[3, "Request.tcp_source"]], "udp_source() (request static method)": [[3, "Request.udp_source"]], "response (built-in class)": [[4, "Response"]], "response.body (attribute)": [[4, "Response.body"]], "response.headers (attribute)": [[4, "Response.headers"]], "response.http_version (attribute)": [[4, "Response.http_version"]], "response.socket (attribute)": [[4, "Response.socket"]], "response.status (attribute)": [[4, "Response.status"]], "response.status_msg (attribute)": [[4, "Response.status_msg"]], "response.trailers (attribute)": [[4, "Response.trailers"]], "get_body() (response method)": [[4, "Response.get_body"]], "has_sent() (response method)": [[4, "Response.has_sent"]], "new() (response static method)": [[4, "Response.new"]], "next_line() (response method)": [[4, "Response.next_line"]], "set_status() (response method)": [[4, "Response.set_status"]], "source() (response static method)": [[4, "Response.source"]], "tcp_source() (response static method)": [[4, "Response.tcp_source"]], "udp_source() (response static method)": [[4, "Response.udp_source"]], "extract_len() (in module utils)": [[6, "utils.extract_len"]], "next_line() (in module utils)": [[6, "utils.next_line"]], "send_all() (in module utils)": [[6, "utils.send_all"]], "tcp_socket_source() (in module utils)": [[6, "utils.tcp_socket_source"]], "udp_socket_source() (in module utils)": [[6, "utils.udp_socket_source"]], "utils (module)": [[6, "module-utils"]]}})